<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="imgcronometro.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="stylepag.css">
    <title>Cronômetro Funcional!</title>

</head>

<body>
    <h1>
        <u>Cronômetro Digital</u>
    </h1>
    <audio id="sound" src="alarme.mp3" style="display: none;">
        </audio>

    <main>
        <div class="container">
            <h2 class="tx1"> Minutos:</h2>
            <select id="minutos" name="minutos"> </select>
            <h2 class="tx2"> Segundos</h2>
            <select id="segundos" name="segundos"> </select>
            </br>
            </br>
            <button id="comecar">começar</button>
            <aside>
                <div id="display">
                    <h3></h3>
                </div>
            </aside>
        </div>
    </main>
    <script>
        var display = document.getElementById('display');

        var minutos = document.getElementById('minutos');
        var segundos = document.getElementById('segundos');

        var comecar = document.getElementById('comecar');

        var conometroSEg;

        var minutoAtual;
        var segundoAtual;

        var interval;

        for (var i = 0; i <= 60; i++) {
            minutos.innerHTML += '<option value="' + i + '"> ' + i + ' </option>';
        }

        for (var i = 1; i <= 60; i++) {
            segundos.innerHTML += '<option value="' + i + '"> ' + i + ' </option>';
        }

        comecar.addEventListener('click', function() {
            minutoAtual = minutos.value;
            segundoAtual = segundos.value;

            display.childNodes[1].innerHTML = minutoAtual + ":" + segundoAtual;

            interval = setInterval(function() {
                segundoAtual--;
                if (segundoAtual <= 0) {
                    if (minutoAtual > 0) {
                        minutoAtual--;
                        segundoAtual = 59;
                    } else {
                        alert("Acabou!");
                        document.getElementById("sound").play();
                        clearInterval(interval);
                    }
                }
                display.childNodes[1].innerHTML = minutoAtual + ":" + segundoAtual;
            }, 1000);
        })
    </script>
</body>
<footer>
    <p>Todos os direitos reservados &copy;</p>
</footer>

</html>
